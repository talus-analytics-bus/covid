{"ast":null,"code":"import axios from 'axios';\nvar API_BASE = process.env.REACT_APP_API_BASE_URL;\n\nif (typeof API_BASE === 'undefined') {\n  API_BASE = 'http://localhost:5002';\n}\n/**\n * Get observation data from API. Updates the observation data and loading status\n * when complete.\n * @method getObservations\n */\n\n\nconst Query = async function (metric_id, temporal_resolution, start_date, end_date = null, country = 'all') {\n  if (end_date === null) {\n    end_date = start_date;\n  }\n\n  ;\n  var params = {\n    metric_id: metric_id,\n    temporal_resolution: temporal_resolution,\n    spatial_resolution: 'country',\n    start: start_date,\n    end: end_date\n  };\n  console.log(country);\n\n  if (country !== 'all') {\n    params['place_id'] = 'country';\n  }\n\n  ;\n  console.log(params);\n  const res = await axios(\"\".concat(API_BASE, \"/observations\"), {\n    params\n  });\n  return res.data.data;\n};\n\nexport default Query;","map":{"version":3,"sources":["/Users/trae/git_repositories/measles/dash/src/components/misc/Query.js"],"names":["axios","API_BASE","process","env","REACT_APP_API_BASE_URL","Query","metric_id","temporal_resolution","start_date","end_date","country","params","spatial_resolution","start","end","console","log","res","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA3B;;AACA,IAAI,OAAOH,QAAP,KAAoB,WAAxB,EAAqC;AACnCA,EAAAA,QAAQ,GAAG,uBAAX;AACD;AAED;;;;;;;AAMA,MAAMI,KAAK,GAAG,gBAAgBC,SAAhB,EAA2BC,mBAA3B,EAAgDC,UAAhD,EAA4DC,QAAQ,GAAC,IAArE,EAA2EC,OAAO,GAAC,KAAnF,EAA0F;AACtG,MAAID,QAAQ,KAAK,IAAjB,EAAuB;AAACA,IAAAA,QAAQ,GAAGD,UAAX;AAAsB;;AAAA;AAE9C,MAAIG,MAAM,GAAG;AACXL,IAAAA,SAAS,EAAEA,SADA;AAEXC,IAAAA,mBAAmB,EAAEA,mBAFV;AAGXK,IAAAA,kBAAkB,EAAE,SAHT;AAIXC,IAAAA,KAAK,EAAEL,UAJI;AAKXM,IAAAA,GAAG,EAAEL;AALM,GAAb;AAQAM,EAAAA,OAAO,CAACC,GAAR,CAAYN,OAAZ;;AAEA,MAAIA,OAAO,KAAK,KAAhB,EAAuB;AAAEC,IAAAA,MAAM,CAAC,UAAD,CAAN,GAAqB,SAArB;AAA+B;;AAAA;AAExDI,EAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AAEA,QAAMM,GAAG,GAAG,MAAMjB,KAAK,WAAIC,QAAJ,oBAA6B;AAClDU,IAAAA;AADkD,GAA7B,CAAvB;AAIA,SAAOM,GAAG,CAACC,IAAJ,CAASA,IAAhB;AACD,CAtBD;;AAwBA,eAAeb,KAAf","sourcesContent":["import axios from 'axios'\n\nvar API_BASE = process.env.REACT_APP_API_BASE_URL\nif (typeof API_BASE === 'undefined') {\n  API_BASE = 'http://localhost:5002'\n}\n\n/**\n * Get observation data from API. Updates the observation data and loading status\n * when complete.\n * @method getObservations\n */\n\nconst Query = async function (metric_id, temporal_resolution, start_date, end_date=null, country='all') {\n  if (end_date === null) {end_date = start_date};\n\n  var params = {\n    metric_id: metric_id,\n    temporal_resolution: temporal_resolution,\n    spatial_resolution: 'country',\n    start: start_date,\n    end: end_date\n  };\n\n  console.log(country)\n\n  if (country !== 'all') { params['place_id'] = 'country'};\n\n  console.log(params)\n\n  const res = await axios(`${API_BASE}/observations`, {\n    params\n  });\n\n  return res.data.data\n};\n\nexport default Query;\n"]},"metadata":{},"sourceType":"module"}