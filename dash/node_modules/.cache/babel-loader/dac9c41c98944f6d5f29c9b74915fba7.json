{"ast":null,"code":"import _slicedToArray from \"/Users/trae/git_repositories/measles/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"/Users/trae/git_repositories/measles/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/trae/git_repositories/measles/src/components/map/SimpleMap.js\";\nimport React from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst SimpleMap = (_ref) => {\n  let props = _extends({}, _ref);\n\n  const _React$useState = React.useState(-117.5447),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        longitude = _React$useState2[0],\n        setLongitude = _React$useState2[1];\n\n  const _React$useState3 = React.useState(33.7438),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        latitude = _React$useState4[0],\n        setLatitude = _React$useState4[1];\n\n  const _React$useState5 = React.useState(11.44),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        zoom = _React$useState6[0],\n        setZoom = _React$useState6[1];\n\n  const f = props.selectedFacility;\n  React.useLayoutEffect(() => {\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN; //as string\n\n    const map = new mapboxgl.Map({\n      style: 'mapbox://styles/traethethird/cjzfsoegd0nam1cqlrv0imonb',\n      container: 'mapbox-container-small',\n      center: {\n        lng: f.longitude,\n        lat: f.latitude\n      },\n      zoom: zoom,\n      attributionControl: false\n    }); // create a DOM element for the marker\n\n    const marker = {\n      // properties: {\n      //   iconSize: [10, 10],\n      // },\n      geometry: {\n        coordinates: [f.longitude, f.latitude]\n      }\n    };\n    var el = document.createElement('div');\n    el.className = \"marker facility-marker \".concat(f.severity); // add marker to map\n\n    new mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates).addTo(map);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    // style={{ position: 'absolute', top: 0, bottom: 0, width: '100%' }}\n    id: \"mapbox-container-small\",\n    ref: React.createRef(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }));\n};\n\nexport default SimpleMap;","map":{"version":3,"sources":["/Users/trae/git_repositories/measles/src/components/map/SimpleMap.js"],"names":["React","mapboxgl","SimpleMap","props","useState","longitude","setLongitude","latitude","setLatitude","zoom","setZoom","f","selectedFacility","useLayoutEffect","accessToken","process","env","REACT_APP_MAPBOX_ACCESS_TOKEN","map","Map","style","container","center","lng","lat","attributionControl","marker","geometry","coordinates","el","document","createElement","className","severity","Marker","setLngLat","addTo","createRef"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,8BAAP;;AAEA,MAAMC,SAAS,GAAG,UAAkB;AAAA,MAAZC,KAAY;;AAAA,0BACAH,KAAK,CAACI,QAAN,CAAe,CAAC,QAAhB,CADA;AAAA;AAAA,QAC3BC,SAD2B;AAAA,QAChBC,YADgB;;AAAA,2BAEFN,KAAK,CAACI,QAAN,CAAe,OAAf,CAFE;AAAA;AAAA,QAE3BG,QAF2B;AAAA,QAEjBC,WAFiB;;AAAA,2BAGVR,KAAK,CAACI,QAAN,CAAe,KAAf,CAHU;AAAA;AAAA,QAG3BK,IAH2B;AAAA,QAGrBC,OAHqB;;AAKlC,QAAMC,CAAC,GAAGR,KAAK,CAACS,gBAAhB;AAEAZ,EAAAA,KAAK,CAACa,eAAN,CAAsB,MAAM;AAC1BZ,IAAAA,QAAQ,CAACa,WAAT,GAAuBC,OAAO,CAACC,GAAR,CAAYC,6BAAnC,CAD0B,CACuC;;AAEjE,UAAMC,GAAG,GAAG,IAAIjB,QAAQ,CAACkB,GAAb,CAAiB;AAC3BC,MAAAA,KAAK,EAAE,wDADoB;AAE3BC,MAAAA,SAAS,EAAE,wBAFgB;AAG3BC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,GAAG,EAAEZ,CAAC,CAACN,SAAT;AAAoBmB,QAAAA,GAAG,EAAEb,CAAC,CAACJ;AAA3B,OAHmB;AAI3BE,MAAAA,IAAI,EAAEA,IAJqB;AAK3BgB,MAAAA,kBAAkB,EAAE;AALO,KAAjB,CAAZ,CAH0B,CAW1B;;AACA,UAAMC,MAAM,GAAG;AACb;AACA;AACA;AACAC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,WAAW,EAAE,CAACjB,CAAC,CAACN,SAAH,EAAcM,CAAC,CAACJ,QAAhB;AADL;AAJG,KAAf;AAQA,QAAIsB,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT;AACAF,IAAAA,EAAE,CAACG,SAAH,oCAAyCrB,CAAC,CAACsB,QAA3C,EArB0B,CAuB1B;;AACA,QAAIhC,QAAQ,CAACiC,MAAb,CAAoBL,EAApB,EACCM,SADD,CACWT,MAAM,CAACC,QAAP,CAAgBC,WAD3B,EAECQ,KAFD,CAEOlB,GAFP;AAID,GA5BD,EA4BG,EA5BH;AAgCA,SACE,0CACE;AACE;AACA,IAAA,EAAE,EAAC,wBAFL;AAGE,IAAA,GAAG,EAAElB,KAAK,CAACqC,SAAN,EAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AA4DD,CAnGD;;AAqGA,eAAenC,SAAf","sourcesContent":["import React from 'react'\nimport mapboxgl from 'mapbox-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nconst SimpleMap = ({ ...props }) => {\n  const [longitude, setLongitude] = React.useState(-117.5447)\n  const [latitude, setLatitude] = React.useState(33.7438)\n  const [zoom, setZoom] = React.useState(11.44)\n\n  const f = props.selectedFacility;\n\n  React.useLayoutEffect(() => {\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN //as string\n\n    const map = new mapboxgl.Map({\n      style: 'mapbox://styles/traethethird/cjzfsoegd0nam1cqlrv0imonb',\n      container: 'mapbox-container-small',\n      center: { lng: f.longitude, lat: f.latitude },\n      zoom: zoom,\n      attributionControl: false,\n    })\n\n    // create a DOM element for the marker\n    const marker = {\n      // properties: {\n      //   iconSize: [10, 10],\n      // },\n      geometry: {\n        coordinates: [f.longitude, f.latitude],\n      },\n    };\n    var el = document.createElement('div');\n    el.className = `marker facility-marker ${f.severity}`;\n\n    // add marker to map\n    new mapboxgl.Marker(el)\n    .setLngLat(marker.geometry.coordinates)\n    .addTo(map);\n\n  }, [])\n\n\n\n  return (\n    <>\n      <div\n        // style={{ position: 'absolute', top: 0, bottom: 0, width: '100%' }}\n        id='mapbox-container-small'\n        ref={React.createRef()}\n      />\n      {/* <div\n        className='legend'\n        style={{\n          display: 'grid',\n          gridTemplateColumns: 'auto auto',\n          gridTemplateRows: 'auto',\n\n          width: '200px',\n          backgroundColor: '#fff',\n          borderRadius: '3px',\n          bottom: '60px',\n          boxShadow: '0 1px 2px rgba(0,0,0,0.10)',\n          font: `12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif`,\n          paddingTop: '10px',\n          position: 'absolute',\n          right: '60px',\n          zIndex: 1,\n          border: '2px solid grey'\n        }}\n      >\n        <div\n          style={{\n            justifySelf: 'center',\n            padding: '0 10px 0 10px',\n            borderRight: '2px solid grey'\n          }}\n        >\n          <h4>Facility status alerts</h4>\n          <div>\n            <span>Critical Status</span>\n          </div>\n          <div>\n            <span>Alerted Status</span>\n          </div>\n          <div>\n            <span>Stable Status</span>\n          </div>\n        </div>\n        <div style={{ justifySelf: 'center', padding: '0 10px 0 10px' }}>\n          <h4>Facility status alerts</h4>\n          <div>\n            <span>Hospital</span>\n          </div>\n          <div>\n            <span>Large dialysis center</span>\n          </div>\n          <div>\n            <span>Skilled Nursing Home</span>\n          </div>\n        </div>\n      </div> */}\n    </>\n  )\n}\n\nexport default SimpleMap\n"]},"metadata":{},"sourceType":"module"}