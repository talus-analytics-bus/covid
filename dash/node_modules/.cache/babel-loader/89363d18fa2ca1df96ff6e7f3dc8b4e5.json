{"ast":null,"code":"import _slicedToArray from \"/Users/trae/git_repositories/measles/dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/trae/git_repositories/measles/dash/src/components/views/details/Details.tsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Content from './content/Content'; // Utilities (date formatting, etc.)\n\nimport Util from '../../../components/misc/Util.js';\nimport classNames from 'classnames';\nimport styles from './details.module.scss'; // If DEMO_DATE exists, use it (frames all data in site relative to the demo\n// date that is specified). Otherwise, today's date will be used (\"now\").\n\nvar DEMO_DATE = process.env.DEMO_DATE;\n\nif (typeof DEMO_DATE === 'undefined') {\n  DEMO_DATE = '2025-07-04T23:56:00';\n}\n\nconst now = DEMO_DATE !== undefined ? new Date(DEMO_DATE) : new Date(); // import { facility } from '../../../types/index'\n\nconst API_BASE = process.env.REACT_APP_API_BASE_URL; // FC for Details.\n\nconst Details = props => {\n  // Manage loading state (don't show if loading, etc.)\n  const _React$useState = React.useState(true),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        loading = _React$useState2[0],\n        setLoading = _React$useState2[1]; // Get data for current country.\n\n\n  const country = props.selectedCountry; // total population\n\n  const _React$useState3 = React.useState(0),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        countryPop = _React$useState4[0],\n        setCountryPop = _React$useState4[1]; // GDP per capita\n  // JEE Score\n  //Policies (doubt we get this by October?)\n  // Vaccination coverage\n\n\n  const coverage = props.coverage; // Reported cases\n\n  const cases = props.cases; // Reported cases over time\n\n  const _React$useState5 = React.useState([]),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        caseHistory = _React$useState6[0],\n        setCaseHistory = _React$useState6[1]; // Vaccination coverage over time\n\n\n  const _React$useState7 = React.useState([]),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        coverageHistory = _React$useState8[0],\n        setCoverageHistory = _React$useState8[1]; //Resolve ready score by category\n\n\n  const _React$useState9 = React.useState(0),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        readyFind = _React$useState10[0],\n        setReadyFind = _React$useState10[1];\n\n  const _React$useState11 = React.useState(0),\n        _React$useState12 = _slicedToArray(_React$useState11, 2),\n        readyStop = _React$useState12[0],\n        setReadyStop = _React$useState12[1];\n\n  const _React$useState13 = React.useState(0),\n        _React$useState14 = _slicedToArray(_React$useState13, 2),\n        readyPrevent = _React$useState14[0],\n        setReadyPrevent = _React$useState14[1];\n\n  const _React$useState15 = React.useState(0),\n        _React$useState16 = _slicedToArray(_React$useState15, 2),\n        readyProtect = _React$useState16[0],\n        setReadyProtect = _React$useState16[1]; // Function to make API calls to get data for the four state variables above.\n\n\n  const getDetailsData = async () => {\n    // Make API calls to get state variable data from the appropriate endpoints.\n    const res1 = await axios(\"\".concat(API_BASE, \"/facilities/\").concat(props.facility_id, \"/alerts/history\"));\n    const res2 = await axios(\"\".concat(API_BASE, \"/facilities/\").concat(props.facility_id, \"/details\"));\n    const alertsUrl = DEMO_DATE !== undefined ? \"\".concat(API_BASE, \"/facilities/\").concat(props.facility_id, \"/alerts?date=\").concat(DEMO_DATE) : \"\".concat(API_BASE, \"/facilities/\").concat(props.facility_id, \"/alerts\");\n    const res3 = await axios(alertsUrl);\n    const res4 = await axios(\"\".concat(API_BASE, \"/facilities/\").concat(props.facility_id, \"/status/history\")); // Update the state variables with the response data.\n\n    setAlerts(res1.data.data);\n    setDetails(res2.data.data);\n    const sortedAlerts = res3.data.data.sort(Util.sortByAlertId).sort(Util.sortByDatetime);\n    setStatusHistory(res4.data.data); // Set state to loaded so JSX renders.\n\n    setLoading(false);\n  }; // Effect hook to load API data.\n\n\n  React.useEffect(() => {\n    getDetailsData();\n  }, []); // If loading do not show JSX content.\n\n  if (loading) return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  });else {\n    // Get datetime stamp for facility status and other elements\n    const timeThreshold = DEMO_DATE !== undefined ? new Date(DEMO_DATE) : new Date(); // Ignore details and alerts that are after the demo date or today's date;\n    // do not show them in tables.\n\n    const details = detailsUpdates.sort(Util.sortByDetailsId).sort(Util.sortByDatetime).filter(d => {\n      const statusDate = new Date(d.effective_dtm);\n      if (timeThreshold < statusDate) return false;\n      return true;\n    });\n    const alerts = alertHistory.sort(Util.sortByAlertId).sort(Util.sortByDatetime).filter(d => {\n      const statusDate = new Date(d.effective_dtm);\n      if (timeThreshold < statusDate) return false;\n      return true;\n    }); // Return JSX for details.\n\n    return React.createElement(\"div\", {\n      className: styles.details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classNames(styles.mapTitle, styles[facility.severity]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: styles.facilityName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, facility.name), React.createElement(\"div\", {\n      className: classNames(styles.location, styles[facility.severity]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, facility.address), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, facility.city, \", \", facility.state, \" \", facility.zip), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, facility.telephone))), React.createElement(\"div\", {\n      className: classNames(styles.detailsTitle, styles[facility.severity]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Facility status\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, Util.formatDate(now))))), React.createElement(Link, {\n      to: '/submit/update/' + facility.facility_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Update status\", React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"edit\")))), React.createElement(SimpleMap, {\n      selectedFacility: facility,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(Content, {\n      alertHistory: alertHistory,\n      detailsUpdates: detailsUpdates,\n      selectedFacility: facility,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }));\n  }\n};\n\nexport default Details;","map":{"version":3,"sources":["/Users/trae/git_repositories/measles/dash/src/components/views/details/Details.tsx"],"names":["React","axios","Link","Content","Util","classNames","styles","DEMO_DATE","process","env","now","undefined","Date","API_BASE","REACT_APP_API_BASE_URL","Details","props","useState","loading","setLoading","country","selectedCountry","countryPop","setCountryPop","coverage","cases","caseHistory","setCaseHistory","coverageHistory","setCoverageHistory","readyFind","setReadyFind","readyStop","setReadyStop","readyPrevent","setReadyPrevent","readyProtect","setReadyProtect","getDetailsData","res1","facility_id","res2","alertsUrl","res3","res4","setAlerts","data","setDetails","sortedAlerts","sort","sortByAlertId","sortByDatetime","setStatusHistory","useEffect","timeThreshold","details","detailsUpdates","sortByDetailsId","filter","d","statusDate","effective_dtm","alerts","alertHistory","mapTitle","facility","severity","facilityName","name","location","address","city","state","zip","telephone","detailsTitle","formatDate"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Popup from 'reactjs-popup'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nimport Content from './content/Content'\n\n// Utilities (date formatting, etc.)\nimport Util from '../../../components/misc/Util.js'\n\nimport classNames from 'classnames'\nimport styles from './details.module.scss'\n\n// If DEMO_DATE exists, use it (frames all data in site relative to the demo\n// date that is specified). Otherwise, today's date will be used (\"now\").\nvar DEMO_DATE = process.env.DEMO_DATE\nif (typeof DEMO_DATE === 'undefined') {\n  DEMO_DATE = '2025-07-04T23:56:00'\n}\n\nconst now = DEMO_DATE !== undefined ? new Date(DEMO_DATE) : new Date();\n\n// import { facility } from '../../../types/index'\nconst API_BASE = process.env.REACT_APP_API_BASE_URL;\n\n// FC for Details.\nconst Details = (props: any) => {\n\n  // Manage loading state (don't show if loading, etc.)\n  const [loading, setLoading] = React.useState(true)\n\n  // Get data for current country.\n  const country = props.selectedCountry;\n\n  // total population\n  const [countryPop, setCountryPop] = React.useState(0);\n\n  // GDP per capita\n\n  // JEE Score\n\n  //Policies (doubt we get this by October?)\n\n  // Vaccination coverage\n  const coverage = props.coverage;\n\n  // Reported cases\n  const cases = props.cases;\n\n  // Reported cases over time\n  const [caseHistory, setCaseHistory] = React.useState([])\n\n  // Vaccination coverage over time\n  const [coverageHistory, setCoverageHistory] = React.useState([])\n\n  //Resolve ready score by category\n  const [readyFind, setReadyFind] = React.useState(0);\n  const [readyStop, setReadyStop] = React.useState(0);\n  const [readyPrevent, setReadyPrevent] = React.useState(0);\n  const [readyProtect, setReadyProtect] = React.useState(0);\n\n  // Function to make API calls to get data for the four state variables above.\n  const getDetailsData = async () => {\n    // Make API calls to get state variable data from the appropriate endpoints.\n    const res1 = await axios(\n      `${API_BASE}/facilities/${props.facility_id}/alerts/history`\n    )\n    const res2 = await axios(\n      `${API_BASE}/facilities/${props.facility_id}/details`\n    )\n    const alertsUrl = DEMO_DATE !== undefined ?\n      `${API_BASE}/facilities/${props.facility_id}/alerts?date=${DEMO_DATE}` :\n      `${API_BASE}/facilities/${props.facility_id}/alerts`;\n    const res3 = await axios(alertsUrl);\n    const res4 = await axios(\n      `${API_BASE}/facilities/${props.facility_id}/status/history`\n    );\n\n    // Update the state variables with the response data.\n    setAlerts(res1.data.data);\n    setDetails(res2.data.data);\n    const sortedAlerts = res3.data.data.sort(Util.sortByAlertId).sort(Util.sortByDatetime);\n    setStatusHistory(res4.data.data);\n\n    // Set state to loaded so JSX renders.\n    setLoading(false);\n  }\n\n  // Effect hook to load API data.\n  React.useEffect(() => {\n    getDetailsData();\n  }, [])\n\n  // If loading do not show JSX content.\n  if (loading) return (<div></div>);\n  else {\n    // Get datetime stamp for facility status and other elements\n    const timeThreshold = DEMO_DATE !== undefined ? new Date(DEMO_DATE) : new Date();\n\n    // Ignore details and alerts that are after the demo date or today's date;\n    // do not show them in tables.\n    const details = detailsUpdates.sort(Util.sortByDetailsId).sort(Util.sortByDatetime)\n      .filter((d: any) => {\n        const statusDate = new Date(d.effective_dtm);\n        if (timeThreshold < statusDate) return false;\n        return true\n      });\n    const alerts = alertHistory.sort(Util.sortByAlertId).sort(Util.sortByDatetime)\n    .filter((d: any) => {\n      const statusDate = new Date(d.effective_dtm);\n      if (timeThreshold < statusDate) return false;\n      return true\n    });\n\n    // Return JSX for details.\n    return (<div className={styles.details}>\n      <div className={classNames(styles.mapTitle, styles[facility.severity])}>\n        <p className={styles.facilityName}>{facility.name}</p>\n        <div className={classNames(styles.location, styles[facility.severity])}>\n          <p>{facility.address}</p>\n          <p>{facility.city}, {facility.state} {facility.zip}</p>\n          <p>{facility.telephone}</p>\n        </div>\n      </div>\n      <div className={classNames(styles.detailsTitle, styles[facility.severity])}>\n        <div>\n          <div>\n            <p>\n              <span>Facility status</span>\n            </p>\n            <p>\n              <span>{Util.formatDate(now)}</span>\n            </p>\n          </div>\n        </div>\n\n        <Link to={'/submit/update/' + facility.facility_id}>\n          <button>\n            Update status\n            <i className='material-icons'>edit</i>\n          </button>\n        </Link>\n\n      </div>\n      <SimpleMap selectedFacility={facility}/>\n      <Content\n        alertHistory={alertHistory}\n        detailsUpdates={detailsUpdates}\n        selectedFacility={facility}/>\n    </div>);\n  }\n};\n\nexport default Details\n"]},"metadata":{},"sourceType":"module"}